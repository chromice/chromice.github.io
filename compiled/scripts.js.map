{"version":3,"sources":["main.js"],"names":["w","d","c","trackOutBoundClicks","event","href","this","ga","substr","eventCategory","eventAction","eventLabel","transport","scrollRelativeLinks","section","getElementById","replace","history","pushState","preventDefault","rect","getBoundingClientRect","root","test","navigator","userAgent","documentElement","body","amount","top","scrollTop","scrollTo","element","to","duration","start","change","currentTime","increment","animateScroll","val","Math","easeInOutQuad","animate","addClass","el","className","classList","add","removeClass","remove","RegExp","split","join","as","getElementsByTagName","i","length","addEventListener","querySelectorAll","playing","videos","Array","prototype","forEach","call","v","frame","parentNode","container","button","createElement","appendChild","e","paused","pause","play","title","links","article","more","innerHTML","removeChild","setTimeout","getAttribute","t","b","window","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","oRequestAnimationFrame","callback","document","console"],"mappings":"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","file":"scripts.js","sourcesContent":["(function (w, d, c) {\n\t/*\n\t\tTrack outbound clicks\n\t*/\n\tfunction trackOutBoundClicks(event) {\n\t\tvar href = this.href;\n\t\t\n\t\tif (!ga) return;\n\t\t\n\t\tif (href.substr(-4, 4) === '.pdf') {\n\t\t\tga('send', 'event', {\n\t\t\t\teventCategory: 'Resume Link',\n\t\t\t\teventAction: 'click',\n\t\t\t\teventLabel: href,\n\t\t\t\ttransport: 'beacon'\n\t\t\t});\n\t\t} else if (href.substr(0, 7) === 'mailto:') {\n\t\t\tga('send', 'event', {\n\t\t\t\teventCategory: 'Email link',\n\t\t\t\teventAction: 'click',\n\t\t\t\teventLabel: href\n\t\t\t});\n\t\t} else {\n\t\t\tga('send', 'event', {\n\t\t\t\teventCategory: 'Link',\n\t\t\t\teventAction: 'click',\n\t\t\t\teventLabel: href,\n\t\t\t\ttransport: 'beacon'\n\t\t\t});\n\t\t}\n\t}\n\t\n\tfunction scrollRelativeLinks(event) {\n\t\tvar href = this.href;\n\t\tvar section = d.getElementById(href.replace(/.*?\\#(.+)/, '$1'));\n\t\t\n\t\tif (!history.pushState || !section) {\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tevent.preventDefault();\n\t\t\n\t\tvar rect = section.getBoundingClientRect();\n\t\tvar root = /firefox/i.test(navigator.userAgent) ? d.documentElement : d.body;\n\t\tvar amount = rect.top + root.scrollTop;\n\t\t\n\t\tscrollTo(root, amount, amount > 100 ? 700 : amount/7);\n\t\thistory.pushState(null, '', href);\n\t}\n\t\n\tvar as = d.getElementsByTagName('a');\n\t\n\tfor (var i = 0; i < as.length; i++) {\n\t\tas[i].addEventListener('click', trackOutBoundClicks, true);\n\t\tas[i].addEventListener('click', scrollRelativeLinks, true);\n\t}\n\t\n\t// Quit execution\n\tif (!d.querySelectorAll) return;\n\t\n\t/*\n\t\tVideo player\n\t*/\n\tvar playing = null;\n\tvar videos = d.getElementsByTagName('video');\n\t\n\tArray.prototype.forEach.call(videos, function(v, i) {\n\t\tvar frame = v.parentNode;\n\t\tvar container = frame.parentNode;\n\t\tvar button = d.createElement('span');\n\t\tbutton.className = 'status';\n\t\tv.parentNode.appendChild(button);\n\t\t\n\t\tv.addEventListener('click', function (e) {\n\t\t\tif (v.paused) {\n\t\t\t\tif (playing) {\n\t\t\t\t\tplaying.pause();\n\t\t\t\t\tplaying = v.currentTime = 0;\n\t\t\t\t}\n\t\t\t\tv.play();\n\t\t\t\tplaying = v;\n\t\t\t} else {\n\t\t\t\tv.pause();\n\t\t\t\tv.currentTime = 0;\n\t\t\t\tplaying = null;\n\t\t\t}\n\t\t});\n\t\tv.addEventListener('play', function () {\n\t\t\taddClass(frame, 'playing');\n\t\t\taddClass(container, 'playing');\n\t\t\t\n\t\t\tif (ga) {\n\t\t\t\tga('send', 'event', {\n\t\t\t\t\teventCategory: 'Video',\n\t\t\t\t\teventAction: 'play',\n\t\t\t\t\teventLabel: v.title,\n\t\t\t\t\ttransport: 'beacon'\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\tv.addEventListener('pause', function () {\n\t\t\tremoveClass(frame, 'playing');\n\t\t\tremoveClass(container, 'playing');\n\t\t\t\n\t\t\tif (ga) {\n\t\t\t\tga('send', 'event', {\n\t\t\t\t\teventCategory: 'Video',\n\t\t\t\t\teventAction: 'pause',\n\t\t\t\t\teventLabel: v.title,\n\t\t\t\t\ttransport: 'beacon'\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t});\n\t});\n\t\n\t/*\n\t\tHide case study body\n\t*/\n\t\n\t// Find case study screens...\n\tvar links = d.querySelectorAll('#recent-projects article.expandable .links');\n\tArray.prototype.forEach.call(links, function(el, i) {\n\t\tvar article = el.parentNode.parentNode;\n\t\tvar more = d.createElement('button');\n\t\t\n\t\tmore.innerHTML = 'Read the case study';\n\t\tel.appendChild(more);\n\t\t\n\t\tarticle.className = 'compact hidden';\n\t\t\n\t\tmore.addEventListener('click', function (event) {\n\t\t\tarticle.className = 'hidden';\n\t\t\tmore.parentNode.removeChild(more);\n\t\t\t\n\t\t\tsetTimeout(function () {\n\t\t\t\tarticle.className = '';\n\t\t\t\tvar rect = article.getBoundingClientRect();\n\t\t\t\tvar root = /firefox/i.test(navigator.userAgent) ? d.documentElement : d.body;\n\t\t\t\tscrollTo(root, rect.top + root.scrollTop - 29, 500);\n\t\t\t}, 100);\n\t\t\t\n\t\t\tif (!ga) return;\n\t\t\t\n\t\t\tga('send', 'event', {\n\t\t\t\teventCategory: 'Inbound Link',\n\t\t\t\teventAction: 'click',\n\t\t\t\teventLabel: '#' + article.getAttribute('id'),\n\t\t\t\ttransport: 'beacon'\n\t\t\t});\n\t\t}, true);\n\t});\n\t\n\t/*\n\t\tScrollTo\n\t*/\n\tfunction scrollTo(element, to, duration) {\n\t\tvar start = element.scrollTop,\n\t\t\tchange = to - start,\n\t\t\tcurrentTime = 0,\n\t\t\tincrement = 1000/60;\n\t\t\t\n\t\tvar animateScroll = function() {\n\t\t\tcurrentTime += increment;\n\t\t\tvar val = Math.easeInOutQuad(currentTime, start, change, duration);\n\t\t\telement.scrollTop = val;\n\t\t\t\n\t\t\tif (currentTime < duration) {\n\t\t\t\tanimate(animateScroll);\n\t\t\t}\n\t\t};\n\t\tanimateScroll();\n\t}\n\t\n\tMath.easeInOutQuad = function (t, b, c, d) {\n\t\tt /= d/2;\n\t\tif (t < 1) return c/2*t*t + b;\n\t\tt--;\n\t\treturn -c/2 * (t*(t-2) - 1) + b;\n\t};\n\n\tvar animate = window.requestAnimationFrame ||\n\t\twindow.webkitRequestAnimationFrame ||\n\t\twindow.mozRequestAnimationFrame ||\n\t\twindow.msRequestAnimationFrame ||\n\t\twindow.oRequestAnimationFrame ||\n\t\t// IE Fallback, you can even fallback to onscroll\n\t\tfunction(callback){ window.setTimeout(callback, 1000/60); };\n\n\t/*\n\t\tDOM functions\n\t*/\n\tfunction addClass(el, className) {\n\t\tif (el.classList) {\n\t\t\tel.classList.add(className);\n\t\t} else {\n\t\t\tel.className += ' ' + className;\n\t\t}\n\t}\n\tfunction removeClass(el, className) {\n\t\tif (el.classList) {\n\t\t\tel.classList.remove(className);\n\t\t} else {\n\t\t\tel.className = el.className.replace(new RegExp('(^|\\\\b)' + className.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' ');\n\t\t}\n\t}\n})(window, document, console);"],"sourceRoot":"/source/"}