// ================
// = Dependancies =
// ================

@import (less) 'normalize.css';
@import 'order.less';
@import 'clutter.less';


// ========================================
// = Shared variables, styles, and mixins =
// ========================================

@color-project-bg: #d8d8d8;
@color-project-text: #444;

@color-personal-bg: #282828;
@color-personal-text: #eee;


// =======================
// = Typography / Layout =
// =======================

@light-font-family: 'Helvetica Neue', sans-serif;
@light-font-variation: 300;
@light-font-offset: 0.877;

@normal-font-family: 'Helvetica Neue', sans-serif;
@normal-font-variation: 400;
@normal-font-offset: 0.870;

@bold-font-family: 'Helvetica Neue', sans-serif;
@bold-font-variation: 500;
@bold-font-offset: 0.879;

@bolder-font-family: 'Helvetica Neue', sans-serif;
@bolder-font-variation: 700;
@bolder-font-offset: 0.879;

.use-baseline-grid(15px, 1.4, normal);

html {
	.font-baseline();
	background: @color-project-bg;
	color: @color-project-text;
}

/*
	Headings
*/
h2 {
	.font-align(36px, 1.4, bolder);
	.margin-top(1);
	.margin-bottom(1);
}
h3 {
	.font-align(24px, 1.4, bolder);
	.margin-top(1);
	.margin-bottom(0);
}

/*
	Figures
*/
img {
	max-width: 100%;
	height: auto;
}

figure {
	background: #f6f6f6;
	margin: 0;
	
	// OS X + Browser chrome for site screenshots
	&.chrome {
		overflow: hidden;
		box-shadow: 0 1px 4px rgba(0, 0, 0, 0.4), 0 5px 10px rgba(0, 0, 0, 0.2);
		border-radius: 3px;
		padding-top: 11px;
		background: url(/assets/graphics/chrome.png) no-repeat;
		background-size: 1024px 11px;
		
		figcaption {
			position: relative;
			padding: 4px 5px 4px;
			border-bottom: 1px solid #d1d1d1;
			background: #fff;
			color: #666;
			
			.font(8px, 1, normal);
			
			&:before {
				content: 'http://';
				color: #aaa;
			}
			&:after {
				position: absolute;
				top: 0;
				left: 0;
				right: 0;
				bottom: 0;
				display: block;
				border: 3px solid #f6f6f6;
				content: '';
			}
		}
	}
}

/*
	Links
*/
a {
	color: inherit;
}

/*
	Misc
*/
.w {
	.invisible();
}

// ==========
// = Layout =
// ==========

.use-column-grid(1024px, 30px, 3);

html {
	height: 100%;
}
body {
	min-height: 100%;
}

/*
	Landing page
*/
@sidebar-width: unit((300px / @baseline-size), em);

body {
	position: relative;
	padding-left: @sidebar-width;
	
	&:before {
		position: absolute;
		top: 0;
		left: 0;
		bottom: 0;
		z-index: -1;
		width: @sidebar-width;
		display: block;
		background: @color-personal-bg;
		content: '';
	}
}
main.profile {
	float: left;
	.border-box();
	width: @sidebar-width;
	padding: (@grid-gutter / 2);
	margin-left: (@sidebar-width * -1);
	background: @color-personal-bg;
	color: @color-personal-text;
}
aside.projects {
	float: right;
	.border-box();
	padding: @grid-gutter;
	.padding-top(1);
	.padding-bottom(1);
	background: @color-project-bg;
	color: @color-project-text;
}


// ==============
// = Components =
// ==============

/*
	Profile
*/
@image-width: 150px;

main.profile {
	// .show-baselines();
	
	header, footer > ul {
		text-align: center;
	}
	
	// Photo
	header > a {
		position: relative;
		overflow: hidden;
		display: block;
		width: @image-width;
		max-width: 100%;
		margin: 0 auto;
		.margin-top(1);
		border-radius: 50%;
		
		&:before {
			display: block;
			padding-top: 100%;
			content: '';
		}
		
		img {
			position: absolute;
			top: 0;
			left: 0;
			width: 105%;
			max-width: none;
		}
	}
	
	// Name
	h1 {
		.margin-top(1);
		.margin-bottom(0);
		.font-align(35px, 1.4, bold);
	}
	
	h2 {
		margin: 0;
		.font-align(16px, 1.5, bolder);
		.margin-bottom(1.5);
	}
	
	// Role 
	.p-role {
		display: block;
		text-transform: uppercase;
	}
	
	// Locations
	.p-adr {
		display: block;
		.font-align(16px, 1.4, normal);
	}
	
	footer h2 {
		.invisible();
	}
	
	// Links
	footer > ul {
		.reset-list();
		
		li {
			display: inline-block;
		}
	}
}

/*
	Projects
*/
.projects {
	h2 {
		text-align: center;
		color: darken(@color-project-bg, 25%);
		text-shadow: 0 -1px 0 rgba(0,0,0,0.75),  0 1px 0 rgba(255,255,255,0.75);
	}
	
	* + h2 {
		.margin-top(2);
	}
	
	h3 {
		.invisible();
	}
	
	a {
		color: inherit;
		text-decoration: none;
	}
	
	ul {
		.reset-list();
		.margin-bottom(1);
	}
	
	li {
		position: relative;
		display: inline-block;
		.width(1);
		.margin-left(@grid-gutter);
		.margin-bottom(1);
		vertical-align: top;
		
		&:first-child {
			.margin-left(0);
		}
	}
	
	figure {
		max-height: 100%;
	}
	
	.client {
		.clearfix();
		
		li {
			display: block;
			float: right;
			.width(1.25);
			.height(12);
			.margin-bottom(2);
		}
		
		li:first-child {
			float: left;
			.width(1.75);
			.height(26);
		}
		
		p {
			position: absolute;
			.bottom(0.75);
			.right((@grid-gutter / -2));
			width: 200px;
			margin: 0;
			padding: (@grid-gutter / 2);
			.padding-top(0.5);
			.padding-bottom(0.5);
			background: fade(#fff, 85%);
			.font(14px, 1.4, normal);
			// color: ;
		}
	}
	
	.personal {
		text-align: center;
	}
}